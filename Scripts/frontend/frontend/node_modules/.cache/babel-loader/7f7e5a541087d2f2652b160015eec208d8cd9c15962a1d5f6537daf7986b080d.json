{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Ahzam/Desktop/Assignments/CSIT321/Echotrace-Vue/Scripts/frontend/frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _SidePanel = _interopRequireDefault(require(\"@/components/SidePanel.vue\"));\nvar _default = exports.default = {\n  name: \"AiHistory\",\n  components: {\n    SidePanel: _SidePanel.default\n  },\n  data() {\n    return {\n      q: {\n        keyword: \"\",\n        type: \"\",\n        status: \"\",\n        page: 1,\n        size: 10\n      },\n      list: [],\n      sels: [],\n      dlg: {\n        visible: false,\n        item: null\n      }\n    };\n  },\n  created() {\n    this.fetchData();\n  },\n  computed: {\n    filtered() {\n      const {\n        keyword,\n        type,\n        status\n      } = this.q;\n      const kw = (keyword || \"\").toLowerCase();\n      let arr = this.list.slice();\n      if (kw) arr = arr.filter(r => `${r.title} ${r.id}`.toLowerCase().includes(kw));\n      if (type) arr = arr.filter(r => r.type === type);\n      if (status) arr = arr.filter(r => r.status === status);\n      return arr.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    },\n    pageItems() {\n      const st = (this.q.page - 1) * this.q.size;\n      return this.filtered.slice(st, st + this.q.size);\n    }\n  },\n  methods: {\n    onSignout() {\n      this.$message(\"Sign out clicked\");\n    },\n    fetchData() {\n      this.list = [{\n        id: \"H24001\",\n        type: \"tts\",\n        title: \"Promo-line 001\",\n        createdAt: \"2025-03-12T10:15:00Z\",\n        url: \"/mock/audio1.mp3\"\n      }, {\n        id: \"H24002\",\n        type: \"detect\",\n        title: \"Call-sample 17\",\n        createdAt: \"2025-03-12T09:40:00Z\"\n      }, {\n        id: \"H24003\",\n        type: \"wm\",\n        title: \"Embed watermark\",\n        createdAt: \"2025-03-11T16:22:00Z\"\n      }, {\n        id: \"H24004\",\n        type: \"tts\",\n        title: \"Narration-A\",\n        createdAt: \"2025-03-10T08:02:00Z\"\n      }];\n    },\n    applyFilters() {\n      this.q.page = 1;\n    },\n    reset() {\n      this.q = {\n        keyword: \"\",\n        type: \"\",\n        status: \"\",\n        page: 1,\n        size: this.q.size\n      };\n    },\n    view(row) {\n      this.dlg.item = row;\n      this.dlg.visible = true;\n    },\n    download(row) {\n      if (!row.url) return;\n      const a = document.createElement(\"a\");\n      a.href = row.url;\n      a.download = row.title || \"file\";\n      a.click();\n    },\n    remove(row) {\n      this.list = this.list.filter(r => r.id !== row.id);\n      this.$message.success(\"Deleted\");\n    },\n    formatDate(s) {\n      return new Date(s).toLocaleString();\n    },\n    typeLabel(t) {\n      return {\n        tts: \"Text-To-Speech\",\n        detect: \"Detection\",\n        wm: \"Watermark\"\n      }[t] || t;\n    },\n    typeTagType(t) {\n      return {\n        tts: \"success\",\n        detect: \"warning\",\n        wm: \"info\"\n      }[t] || \"info\";\n    },\n    pretty(o) {\n      try {\n        return JSON.stringify(o, null, 2);\n      } catch {\n        return String(o);\n      }\n    }\n  }\n};","map":{"version":3,"names":["_SidePanel","_interopRequireDefault","require","_default","exports","default","name","components","SidePanel","data","q","keyword","type","status","page","size","list","sels","dlg","visible","item","created","fetchData","computed","filtered","kw","toLowerCase","arr","slice","filter","r","title","id","includes","sort","a","b","Date","createdAt","pageItems","st","methods","onSignout","$message","url","applyFilters","reset","view","row","download","document","createElement","href","click","remove","success","formatDate","s","toLocaleString","typeLabel","t","tts","detect","wm","typeTagType","pretty","o","JSON","stringify","String"],"sources":["src/views/AiHistory.vue"],"sourcesContent":["<template>\n  <div class=\"page history\">\n    <side-panel @signout=\"onSignout\" />\n\n    <div class=\"looper\"></div>\n\n    <section class=\"panel-wrap\">\n      <div class=\"panel\">\n        <!-- ✅ Black header -->\n        <div class=\"head\">\n          <h2 class=\"title\">AI Generation History</h2>\n          <button class=\"pill\" @click=\"exportCsv\">Export CSV</button>\n        </div>\n\n        <!-- Filters -->\n        <div class=\"filters\">\n          <el-input\n            v-model=\"q.keyword\"\n            placeholder=\"Search by title / id / model\"\n            clearable\n            style=\"width:240px\"\n            @keyup.enter.native=\"applyFilters\"\n          />\n          <el-select\n            v-model=\"q.type\"\n            placeholder=\"Type\"\n            clearable\n            style=\"width:150px\"\n          >\n            <el-option label=\"All\" value=\"\" />\n            <el-option label=\"Text-To-Speech\" value=\"tts\" />\n            <el-option label=\"Detection\" value=\"detect\" />\n            <el-option label=\"Watermark\" value=\"wm\" />\n          </el-select>\n          <el-select\n            v-model=\"q.status\"\n            placeholder=\"Status\"\n            clearable\n            style=\"width:150px\"\n          >\n            <el-option label=\"All\" value=\"\" />\n            <el-option label=\"Processing\" value=\"PROCESSING\" />\n            <el-option label=\"Success\" value=\"SUCCESS\" />\n            <el-option label=\"Failed\" value=\"FAILED\" />\n          </el-select>\n          <el-button type=\"primary\" @click=\"applyFilters\">Search</el-button>\n          <el-button @click=\"reset\">Reset</el-button>\n        </div>\n\n        <!-- Table -->\n        <el-table\n          :data=\"pageItems\"\n          @selection-change=\"sels = $event\"\n          height=\"480\"\n          style=\"width: 100%\"\n        >\n          <el-table-column type=\"selection\" width=\"45\" />\n          <el-table-column label=\"Type\" width=\"240\">\n            <template slot-scope=\"s\">\n              <el-tag size=\"small\" :type=\"typeTagType(s.row.type)\">\n                {{ typeLabel(s.row.type) }}\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"title\" label=\"Title\" min-width=\"240\" />\n          <el-table-column label=\"Created\" width=\"240\">\n            <template slot-scope=\"s\">\n              {{ formatDate(s.row.createdAt) }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"Actions\" width=\"220\" fixed=\"right\">\n            <template slot-scope=\"s\">\n              <el-button type=\"text\" @click=\"view(s.row)\">View</el-button>\n              <el-button\n                type=\"text\"\n                @click=\"download(s.row)\"\n                :disabled=\"!s.row.url\"\n              >\n                Download\n              </el-button>\n              <el-button type=\"text\" @click=\"remove(s.row)\">Delete</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </section>\n\n    <el-dialog title=\"Preview\" :visible.sync=\"dlg.visible\" width=\"720px\">\n      <div v-if=\"dlg.item && dlg.item.type === 'tts'\">\n        <audio :src=\"dlg.item.url\" controls style=\"width: 100%\"></audio>\n      </div>\n      <div v-else-if=\"dlg.item && dlg.item.type === 'detect'\">\n        <p style=\"margin: 0 0 12px;\">Open detection result page?</p>\n        <el-button type=\"primary\" @click=\"$router.push('/result')\">\n          Go to result\n        </el-button>\n      </div>\n      <div v-else>\n        <pre class=\"json\">{{ pretty(dlg.item) }}</pre>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport SidePanel from \"@/components/SidePanel.vue\";\n\nexport default {\n  name: \"AiHistory\",\n  components: { SidePanel },\n  data() {\n    return {\n      q: { keyword: \"\", type: \"\", status: \"\", page: 1, size: 10 },\n      list: [],\n      sels: [],\n      dlg: { visible: false, item: null },\n    };\n  },\n  created() {\n    this.fetchData();\n  },\n  computed: {\n    filtered() {\n      const { keyword, type, status } = this.q;\n      const kw = (keyword || \"\").toLowerCase();\n      let arr = this.list.slice();\n      if (kw) arr = arr.filter((r) => `${r.title} ${r.id}`.toLowerCase().includes(kw));\n      if (type) arr = arr.filter((r) => r.type === type);\n      if (status) arr = arr.filter((r) => r.status === status);\n      return arr.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    },\n    pageItems() {\n      const st = (this.q.page - 1) * this.q.size;\n      return this.filtered.slice(st, st + this.q.size);\n    },\n  },\n  methods: {\n    onSignout() {\n      this.$message(\"Sign out clicked\");\n    },\n    fetchData() {\n      this.list = [\n        {\n          id: \"H24001\",\n          type: \"tts\",\n          title: \"Promo-line 001\",\n          createdAt: \"2025-03-12T10:15:00Z\",\n          url: \"/mock/audio1.mp3\",\n        },\n        {\n          id: \"H24002\",\n          type: \"detect\",\n          title: \"Call-sample 17\",\n          createdAt: \"2025-03-12T09:40:00Z\",\n        },\n        {\n          id: \"H24003\",\n          type: \"wm\",\n          title: \"Embed watermark\",\n          createdAt: \"2025-03-11T16:22:00Z\",\n        },\n        {\n          id: \"H24004\",\n          type: \"tts\",\n          title: \"Narration-A\",\n          createdAt: \"2025-03-10T08:02:00Z\",\n        },\n      ];\n    },\n    applyFilters() {\n      this.q.page = 1;\n    },\n    reset() {\n      this.q = { keyword: \"\", type: \"\", status: \"\", page: 1, size: this.q.size };\n    },\n    view(row) {\n      this.dlg.item = row;\n      this.dlg.visible = true;\n    },\n    download(row) {\n      if (!row.url) return;\n      const a = document.createElement(\"a\");\n      a.href = row.url;\n      a.download = row.title || \"file\";\n      a.click();\n    },\n    remove(row) {\n      this.list = this.list.filter((r) => r.id !== row.id);\n      this.$message.success(\"Deleted\");\n    },\n    formatDate(s) {\n      return new Date(s).toLocaleString();\n    },\n    typeLabel(t) {\n      return { tts: \"Text-To-Speech\", detect: \"Detection\", wm: \"Watermark\" }[t] || t;\n    },\n    typeTagType(t) {\n      return { tts: \"success\", detect: \"warning\", wm: \"info\" }[t] || \"info\";\n    },\n    pretty(o) {\n      try {\n        return JSON.stringify(o, null, 2);\n      } catch {\n        return String(o);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$bg: #0A0A0A;\n$panel: #000;\n$border: rgba(255, 255, 255, .08);\n$text: #E6E8EB;\n$muted: #AAB2C0;\n\n.history {\n  min-height: 100vh;\n  background: $bg;\n  color: $text;\n  position: relative;\n}\n\n.panel-wrap {\n  padding-left: 72px;\n}\n\n.looper {\n  position: fixed;\n  top: 200px;\n  inset: 0 0 0 72px;\n  background: url(~@/assets/looper-bg.png) center / 1600px auto no-repeat;\n  opacity: .5;\n  transform: rotate(15deg);\n  pointer-events: none;\n  background-size: 100%;\n  background-position: 0px -300px;\n}\n\n.panel {\n  max-width: 1120px;\n  margin: 0 auto 80px;\n  background: $panel;\n  border: 1px solid $border;\n  border-radius: 16px;\n  box-shadow: 0 4px 50px rgba(33, 33, 33, .08),\n    0 4px 6px rgba(33, 33, 33, .04);\n  padding: 18px;\n  position: relative;\n  top: 100px;\n}\n\n/* ✅ Black header */\n.head {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 14px;\n  background: #000 !important;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  border-top-left-radius: 16px;\n  border-top-right-radius: 16px;\n}\n\n.title {\n  margin: 0;\n  color: #fff;\n  font: 800 28px/1.2 \"Cabin\", \"Segoe UI\", Arial, sans-serif;\n}\n\n.pill {\n  height: 40px;\n  padding: 0 18px;\n  border-radius: 100px;\n  cursor: pointer;\n  border: 1.5px solid transparent;\n  background-image: linear-gradient(#000, #000),\n    linear-gradient(91.06deg, #FF1CF7 2.26%, #00F0FF 100%);\n  background-origin: border-box;\n  background-clip: padding-box, border-box;\n  color: #fff;\n  font-weight: 600;\n  &:hover {\n    opacity: .95;\n  }\n}\n\n.filters {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  padding: 6px;\n  background: #000;\n  border: 1px solid $border;\n  border-radius: 12px;\n  margin: 6px 6px 12px;\n  box-shadow: 0 6px 18px rgba(0, 0, 0, .35);\n}\n\n/* ✅ Table all black */\n::v-deep(.el-table),\n::v-deep(.el-table__body-wrapper),\n::v-deep(.el-table__fixed-right),\n::v-deep(.el-table__fixed-right-patch),\n::v-deep(.el-table__fixed),\n::v-deep(.el-table__header-wrapper),\n::v-deep(.el-table__footer-wrapper) {\n  background: #000 !important;\n  color: $text !important;\n}\n\n::v-deep(.el-table th),\n::v-deep(.el-table td) {\n  background: #000 !important;\n  color: $text !important;\n}\n\n::v-deep(.el-table__body tr:hover > td) {\n  background: rgba(255, 255, 255, .05) !important;\n}\n\n::v-deep(.el-table__fixed-right),\n::v-deep(.el-table__fixed) {\n  box-shadow: none !important;\n  background-color: #000 !important;\n}\n\n::v-deep(.el-table__empty-block) {\n  background: #000 !important;\n  color: rgba(255, 255, 255, .3);\n}\n\n/* ✅ Tag colors */\n::v-deep(.el-tag--success) {\n  background: rgba(16, 185, 129, .18) !important;\n  color: #A7F3D0 !important;\n}\n\n::v-deep(.el-tag--warning) {\n  background: rgba(234, 179, 8, .20) !important;\n  color: #FDE68A !important;\n}\n\n::v-deep(.el-tag--info) {\n  background: rgba(255, 255, 255, .1) !important;\n  color: #E6E8EB !important;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}