{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Ahzam/Desktop/Assignments/CSIT321/Echotrace-Vue/Scripts/frontend/frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _default = exports.default = {\n  data() {\n    return {\n      file: null,\n      result: null,\n      loading: false,\n      error: \"\"\n    };\n  },\n  methods: {\n    handleFile(e) {\n      this.file = e.target.files[0];\n    },\n    async detectWatermark() {\n      this.error = \"\";\n      this.result = null;\n      if (!this.file) {\n        this.error = \"Please upload an audio file first.\";\n        return;\n      }\n      this.loading = true;\n      const token = localStorage.getItem(\"token\");\n      try {\n        const reader = new FileReader();\n        reader.onload = async () => {\n          const base64Audio = reader.result.split(\",\")[1];\n          const res = await _axios.default.post(`${process.env.VUE_APP_API_URL}/detect`, {\n            audio: base64Audio\n          }, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          this.result = {\n            score: res.data.score\n          };\n        };\n        reader.readAsDataURL(this.file);\n      } catch (err) {\n        console.error(err);\n        this.error = \"Failed to detect watermark.\";\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["_axios","_interopRequireDefault","require","_default","exports","default","data","file","result","loading","error","methods","handleFile","e","target","files","detectWatermark","token","localStorage","getItem","reader","FileReader","onload","base64Audio","split","res","axios","post","process","env","VUE_APP_API_URL","audio","headers","Authorization","score","readAsDataURL","err","console"],"sources":["src/views/DetectionResult.vue"],"sourcesContent":["<template>\r\n  <div class=\"detect-container\">\r\n    <h2>Watermark Detection</h2>\r\n\r\n    <input type=\"file\" accept=\"audio/*\" @change=\"handleFile\" />\r\n    <button @click=\"detectWatermark\" :disabled=\"loading || !file\">\r\n      {{ loading ? 'Detecting...' : 'Detect Watermark' }}\r\n    </button>\r\n\r\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n\r\n    <div v-if=\"result\">\r\n      <h3>Detection Score: {{ result.score }}%</h3>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      file: null,\r\n      result: null,\r\n      loading: false,\r\n      error: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    handleFile(e) {\r\n      this.file = e.target.files[0];\r\n    },\r\n    async detectWatermark() {\r\n      this.error = \"\";\r\n      this.result = null;\r\n\r\n      if (!this.file) {\r\n        this.error = \"Please upload an audio file first.\";\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      try {\r\n        const reader = new FileReader();\r\n        reader.onload = async () => {\r\n          const base64Audio = reader.result.split(\",\")[1];\r\n          const res = await axios.post(\r\n            `${process.env.VUE_APP_API_URL}/detect`,\r\n            { audio: base64Audio },\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${token}`,\r\n              },\r\n            }\r\n          );\r\n\r\n          this.result = { score: res.data.score };\r\n        };\r\n\r\n        reader.readAsDataURL(this.file);\r\n      } catch (err) {\r\n        console.error(err);\r\n        this.error = \"Failed to detect watermark.\";\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.detect-container {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: white;\r\n  background: #0a0a0a;\r\n  min-height: 100vh;\r\n}\r\n\r\nbutton {\r\n  margin-top: 20px;\r\n  background: #1570ef;\r\n  color: white;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 10px 24px;\r\n  cursor: pointer;\r\n}\r\n\r\n.error {\r\n  color: #ff4d4f;\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;AAkBA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,MAAA;MACAC,OAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,CAAA;MACA,KAAAN,IAAA,GAAAM,CAAA,CAAAC,MAAA,CAAAC,KAAA;IACA;IACA,MAAAC,gBAAA;MACA,KAAAN,KAAA;MACA,KAAAF,MAAA;MAEA,UAAAD,IAAA;QACA,KAAAG,KAAA;QACA;MACA;MAEA,KAAAD,OAAA;MACA,MAAAQ,KAAA,GAAAC,YAAA,CAAAC,OAAA;MAEA;QACA,MAAAC,MAAA,OAAAC,UAAA;QACAD,MAAA,CAAAE,MAAA;UACA,MAAAC,WAAA,GAAAH,MAAA,CAAAZ,MAAA,CAAAgB,KAAA;UACA,MAAAC,GAAA,SAAAC,cAAA,CAAAC,IAAA,CACA,GAAAC,OAAA,CAAAC,GAAA,CAAAC,eAAA,WACA;YAAAC,KAAA,EAAAR;UAAA,GACA;YACAS,OAAA;cACAC,aAAA,YAAAhB,KAAA;YACA;UACA,CACA;UAEA,KAAAT,MAAA;YAAA0B,KAAA,EAAAT,GAAA,CAAAnB,IAAA,CAAA4B;UAAA;QACA;QAEAd,MAAA,CAAAe,aAAA,MAAA5B,IAAA;MACA,SAAA6B,GAAA;QACAC,OAAA,CAAA3B,KAAA,CAAA0B,GAAA;QACA,KAAA1B,KAAA;MACA;QACA,KAAAD,OAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"script","externalDependencies":[]}