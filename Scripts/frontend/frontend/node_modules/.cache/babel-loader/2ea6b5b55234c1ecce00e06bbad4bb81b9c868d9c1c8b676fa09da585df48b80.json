{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { isTokenValid } from '@/utils/auth';\nimport Home from '@/views/home.vue';\nimport Login from '@/views/login.vue';\nimport SignUp from '@/views/SignUp.vue';\nimport Forgot from '@/views/Forgot.vue';\nimport ForgotSent from '@/views/ForgotSent.vue';\nimport TextToSpeech from '@/views/TextToSpeech.vue';\nimport DetectionResult from '@/views/DetectionResult.vue';\nimport Index from '@/views/index.vue';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  component: Index\n}, {\n  path: '/login',\n  component: Login\n}, {\n  path: '/signup',\n  component: SignUp\n}, {\n  path: '/forgot',\n  component: Forgot\n}, {\n  path: '/forgotSent',\n  component: ForgotSent\n}, {\n  path: '/tts',\n  component: TextToSpeech,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/result',\n  component: DetectionResult,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/home',\n  component: Home,\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  routes\n});\nrouter.beforeEach(async (to, from, next) => {\n  if (to.matched.some(r => r.meta.requiresAuth)) {\n    const valid = await isTokenValid();\n    if (!valid) next('/login');else next();\n  } else next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","isTokenValid","Home","Login","SignUp","Forgot","ForgotSent","TextToSpeech","DetectionResult","Index","use","routes","path","component","meta","requiresAuth","router","mode","beforeEach","to","from","next","matched","some","r","valid"],"sources":["C:/Users/Ahzam/Desktop/Assignments/CSIT321/Echotrace-Vue/Scripts/frontend/frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport { isTokenValid } from '@/utils/auth'\n\nimport Home from '@/views/home.vue'\nimport Login from '@/views/login.vue'\nimport SignUp from '@/views/SignUp.vue'\nimport Forgot from '@/views/Forgot.vue'\nimport ForgotSent from '@/views/ForgotSent.vue'\nimport TextToSpeech from '@/views/TextToSpeech.vue'\nimport DetectionResult from '@/views/DetectionResult.vue'\nimport Index from '@/views/index.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  { path: '/', component: Index },\n  { path: '/login', component: Login },\n  { path: '/signup', component: SignUp },\n  { path: '/forgot', component: Forgot },\n  { path: '/forgotSent', component: ForgotSent },\n  { path: '/tts', component: TextToSpeech, meta: { requiresAuth: true } },\n  { path: '/result', component: DetectionResult, meta: { requiresAuth: true } },\n  { path: '/home', component: Home, meta: { requiresAuth: true } }\n]\n\nconst router = new VueRouter({ mode: 'history', routes })\n\nrouter.beforeEach(async (to, from, next) => {\n  if (to.matched.some(r => r.meta.requiresAuth)) {\n    const valid = await isTokenValid()\n    if (!valid) next('/login')\n    else next()\n  } else next()\n})\n\nexport default router"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,YAAY,QAAQ,cAAc;AAE3C,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,MAAM,MAAM,oBAAoB;AACvC,OAAOC,MAAM,MAAM,oBAAoB;AACvC,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,KAAK,MAAM,mBAAmB;AAErCV,GAAG,CAACW,GAAG,CAACV,SAAS,CAAC;AAElB,MAAMW,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EAAEC,SAAS,EAAEJ;AAAM,CAAC,EAC/B;EAAEG,IAAI,EAAE,QAAQ;EAAEC,SAAS,EAAEV;AAAM,CAAC,EACpC;EAAES,IAAI,EAAE,SAAS;EAAEC,SAAS,EAAET;AAAO,CAAC,EACtC;EAAEQ,IAAI,EAAE,SAAS;EAAEC,SAAS,EAAER;AAAO,CAAC,EACtC;EAAEO,IAAI,EAAE,aAAa;EAAEC,SAAS,EAAEP;AAAW,CAAC,EAC9C;EAAEM,IAAI,EAAE,MAAM;EAAEC,SAAS,EAAEN,YAAY;EAAEO,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,EACvE;EAAEH,IAAI,EAAE,SAAS;EAAEC,SAAS,EAAEL,eAAe;EAAEM,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,EAC7E;EAAEH,IAAI,EAAE,OAAO;EAAEC,SAAS,EAAEX,IAAI;EAAEY,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,CACjE;AAED,MAAMC,MAAM,GAAG,IAAIhB,SAAS,CAAC;EAAEiB,IAAI,EAAE,SAAS;EAAEN;AAAO,CAAC,CAAC;AAEzDK,MAAM,CAACE,UAAU,CAAC,OAAOC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC1C,IAAIF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACV,IAAI,CAACC,YAAY,CAAC,EAAE;IAC7C,MAAMU,KAAK,GAAG,MAAMxB,YAAY,CAAC,CAAC;IAClC,IAAI,CAACwB,KAAK,EAAEJ,IAAI,CAAC,QAAQ,CAAC,MACrBA,IAAI,CAAC,CAAC;EACb,CAAC,MAAMA,IAAI,CAAC,CAAC;AACf,CAAC,CAAC;AAEF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}