{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Ahzam/Documents/GitHub/Echotrace-Vue/Scripts/frontend/frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _vue = _interopRequireDefault(require(\"vue\"));\nvar _vueRouter = _interopRequireDefault(require(\"vue-router\"));\nvar _auth = require(\"@/utils/auth\");\nvar _home = _interopRequireDefault(require(\"@/views/home.vue\"));\nvar _login = _interopRequireDefault(require(\"@/views/login.vue\"));\nvar _SignUp = _interopRequireDefault(require(\"@/views/SignUp.vue\"));\nvar _Forgot = _interopRequireDefault(require(\"@/views/Forgot.vue\"));\nvar _ForgotSent = _interopRequireDefault(require(\"@/views/ForgotSent.vue\"));\nvar _TextToSpeech = _interopRequireDefault(require(\"@/views/TextToSpeech.vue\"));\nvar _DetectionResult = _interopRequireDefault(require(\"@/views/DetectionResult.vue\"));\nvar _AiHistory = _interopRequireDefault(require(\"@/views/AiHistory.vue\"));\nvar _index = _interopRequireDefault(require(\"@/views/index.vue\"));\nvar _ContactUs = _interopRequireDefault(require(\"@/views/ContactUs.vue\"));\n_vue.default.use(_vueRouter.default);\nconst routes = [{\n  path: '/',\n  component: _index.default\n}, {\n  path: '/login',\n  component: _login.default\n}, {\n  path: '/signup',\n  component: _SignUp.default\n}, {\n  path: '/forgot',\n  component: _Forgot.default\n}, {\n  path: '/forgotSent',\n  component: _ForgotSent.default\n}, {\n  path: '/tts',\n  component: _TextToSpeech.default,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/result',\n  component: _DetectionResult.default,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/home',\n  component: _home.default,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/contactus',\n  component: _ContactUs.default,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/AiHistory',\n  component: _AiHistory.default,\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = new _vueRouter.default({\n  mode: 'history',\n  routes\n});\nrouter.beforeEach(async (to, from, next) => {\n  if (to.matched.some(r => r.meta.requiresAuth)) {\n    const valid = await (0, _auth.isTokenValid)();\n    if (!valid) next('/login');else next();\n  } else next();\n});\nvar _default = exports.default = router;","map":{"version":3,"names":["_vue","_interopRequireDefault","require","_vueRouter","_auth","_home","_login","_SignUp","_Forgot","_ForgotSent","_TextToSpeech","_DetectionResult","_AiHistory","_index","_ContactUs","Vue","use","VueRouter","routes","path","component","Index","Login","SignUp","Forgot","ForgotSent","TextToSpeech","meta","requiresAuth","DetectionResult","Home","ContactUs","AiHistory","router","mode","beforeEach","to","from","next","matched","some","r","valid","isTokenValid","_default","exports","default"],"sources":["C:/Users/Ahzam/Documents/GitHub/Echotrace-Vue/Scripts/frontend/frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport { isTokenValid } from '@/utils/auth'\r\n\r\nimport Home from '@/views/home.vue'\r\nimport Login from '@/views/login.vue'\r\nimport SignUp from '@/views/SignUp.vue'\r\nimport Forgot from '@/views/Forgot.vue'\r\nimport ForgotSent from '@/views/ForgotSent.vue'\r\nimport TextToSpeech from '@/views/TextToSpeech.vue'\r\nimport DetectionResult from '@/views/DetectionResult.vue'\r\nimport AiHistory from '@/views/AiHistory.vue'\r\nimport Index from '@/views/index.vue'\r\nimport ContactUs from '@/views/ContactUs.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  { path: '/', component: Index },\r\n  { path: '/login', component: Login },\r\n  { path: '/signup', component: SignUp },\r\n  { path: '/forgot', component: Forgot },\r\n  { path: '/forgotSent', component: ForgotSent },\r\n  { path: '/tts', component: TextToSpeech, meta: { requiresAuth: true } },\r\n  { path: '/result', component: DetectionResult, meta: { requiresAuth: true } },\r\n  { path: '/home', component: Home, meta: { requiresAuth: true } },\r\n  { path: '/contactus', component: ContactUs, meta: { requiresAuth: true } },\r\n  { path: '/AiHistory', component: AiHistory, meta: { requiresAuth: true } }\r\n]\r\n\r\nconst router = new VueRouter({ mode: 'history', routes })\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  if (to.matched.some(r => r.meta.requiresAuth)) {\r\n    const valid = await isTokenValid()\r\n    if (!valid) next('/login')\r\n    else next()\r\n  } else next()\r\n})\r\n\r\nexport default router"],"mappings":";;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAEA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,OAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,WAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,aAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,gBAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,UAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,MAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,UAAA,GAAAb,sBAAA,CAAAC,OAAA;AAEAa,YAAG,CAACC,GAAG,CAACC,kBAAS,CAAC;AAElB,MAAMC,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EAAEC,SAAS,EAAEC;AAAM,CAAC,EAC/B;EAAEF,IAAI,EAAE,QAAQ;EAAEC,SAAS,EAAEE;AAAM,CAAC,EACpC;EAAEH,IAAI,EAAE,SAAS;EAAEC,SAAS,EAAEG;AAAO,CAAC,EACtC;EAAEJ,IAAI,EAAE,SAAS;EAAEC,SAAS,EAAEI;AAAO,CAAC,EACtC;EAAEL,IAAI,EAAE,aAAa;EAAEC,SAAS,EAAEK;AAAW,CAAC,EAC9C;EAAEN,IAAI,EAAE,MAAM;EAAEC,SAAS,EAAEM,qBAAY;EAAEC,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,EACvE;EAAET,IAAI,EAAE,SAAS;EAAEC,SAAS,EAAES,wBAAe;EAAEF,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,EAC7E;EAAET,IAAI,EAAE,OAAO;EAAEC,SAAS,EAAEU,aAAI;EAAEH,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,EAChE;EAAET,IAAI,EAAE,YAAY;EAAEC,SAAS,EAAEW,kBAAS;EAAEJ,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,EAC1E;EAAET,IAAI,EAAE,YAAY;EAAEC,SAAS,EAAEY,kBAAS;EAAEL,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAAE,CAAC,CAC3E;AAED,MAAMK,MAAM,GAAG,IAAIhB,kBAAS,CAAC;EAAEiB,IAAI,EAAE,SAAS;EAAEhB;AAAO,CAAC,CAAC;AAEzDe,MAAM,CAACE,UAAU,CAAC,OAAOC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC1C,IAAIF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACd,IAAI,CAACC,YAAY,CAAC,EAAE;IAC7C,MAAMc,KAAK,GAAG,MAAM,IAAAC,kBAAY,EAAC,CAAC;IAClC,IAAI,CAACD,KAAK,EAAEJ,IAAI,CAAC,QAAQ,CAAC,MACrBA,IAAI,CAAC,CAAC;EACb,CAAC,MAAMA,IAAI,CAAC,CAAC;AACf,CAAC,CAAC;AAAA,IAAAM,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEab,MAAM"},"metadata":{},"sourceType":"script","externalDependencies":[]}